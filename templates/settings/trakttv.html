<table class="table table-condensed table-light" style='background-color: rgba(0,0,0,0.0); color:white;'>
<tr>
    <th width="150px" style="border:0">
      <strong style='white-space:nowrap; display:block;'>Trakt.TV {{'TRAKTTV/sync/lbl'|translate}}</strong>
      <p class="label label-success" ng-show="getSetting('trakttv.sync')">{{'TRAKTTV/sync-enabled/lbl'|translate}}</p>
      <p class="label label-danger" ng-show="!getSetting('trakttv.sync')">{{'TRAKTTV/sync-disabled/lbl'|translate}}</p>
    </th>
    <td style="border:0">
      
          <p class="alert alert-info"><strong>{{'TRAKTTV/sync/hdr'|translate}}</strong> {{'TRAKTTV/sync/desc'|translate}}</p>
          <div ng-controller="TraktTVCtrl">
          <form name="userCredentials">
            <table style="margin-bottom:10px"><td>
              <input type='text' name='username' ng-model='credentials.username' placeholder="Trakt.TV {{'TRAKTTV/sync-username/lbl'|translate}}" />
              <input type='password' name='password' ng-model='credentials.password' placeholder="Trakt.TV {{'TRAKTTV/sync-password/lbl'|translate}}" />
            </td><td style="padding-left: 10px">
              <button ng-click='encryptPassword()' class="btn btn-info">{{'TRAKTTV/sync-encrypt/btn'|translate}}</button><br>
            </td></table>

            <button class="btn btn-success" style="margin-bottom:10px" ng-if="credentials.passwordHash && !getSetting('trakttv.sync')" ng-click="setSetting('trakttv.sync',true)">Enable TraktTV Watched Sync</button>
            <button class="btn btn-danger" style="margin-bottom:10px" ng-if="credentials.passwordHash && getSetting('trakttv.sync')" ng-click="setSetting('trakttv.sync',false)">Disable TraktTV Watched Sync</button>
            <br>
            <!-- 
             Should these buttons be hidden unless track.tv credentials have been stored?? 
            -->
            <button ng-click="readTraktTV()" class="btn btn-success">{{'TRAKTTV/sync-read/btn'|translate}}</button>
            <button ng-click="writeTraktTV()" class="btn btn-success">{{'TRAKTTV/sync-write/btn'|translate}}</button>
          </form>

          <div ng-if="traktTVSeries">
             <p ng-repeat="serie in traktTVSeries">Fetched show: {{serie.title}}. Watched episodes: {{ countWatchedEpisodes(serie) }} </p>
             <serieheader style='display:inline-block;' ng-repeat="serie in traktTVSeries" ng-if="isDownloaded(serie.tvdb_id)" data="getDownloaded(serie.tvdb_id)" no-listbutton=1 no-title=1 no-overview=1>
                <em class="earmark" ng-show="isAdded(serie.tvdb_id)">&check;</em>
                <em class="earmark" ng-show="isAdding(serie.tvdb_id)"><img src="img/spinner.gif"></em>
             </serieheader>
          </ul>
          </div>
       
    </td>
  </tr>
</table
